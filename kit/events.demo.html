<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="myApp" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Events Demo</title>
  <meta name="description" content="events demo, via enimo">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>
  //封装日志函数
    function log() {
        //console.log("外部log");
        var apc = Array.prototype.slice; //same as [].slice; Let Object{} to Array[]
        console && console.log.apply(console, apc.call(arguments)); //return String, same like native console.log(), so choose it.
    }
  </script>

  <script type="text/javascript" src="./events.js"></script>

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
</head>

<body>

    <h3 style="display:">Events Demo</h3>

</body>
 

<script type="text/javascript">
    window.ANY = {};

    Events.mixTo(ANY);

    ANY.on("page-clicked", function(e){
      alert("event {page-clicked} trigged 1: ", e);
    });

    ANY.on("page-clicked", function(e){
      alert("event {page-clicked} trigged 2: ", e);
    });

    ANY.on("page-loaded", function(e){
      alert("event {page-loaded} trigged: ", e.url);
    });

    window.onload = function(){
      ANY.emit('page-loaded', { url: location.href });
    }

    document.onclick = function(){
      ANY.emit('page-clicked', 'iam click now');
    }
</script> 

</html>